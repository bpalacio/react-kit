var e=!1,n=null,t=!1,o=new Set,d="undefined"!=typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function i(e,n){o.forEach((t=>t(e,n)))}function r(e){t=!0,function(e){return!(e.metaKey||!d&&e.altKey||e.ctrlKey)}(e)&&(n="keyboard",i("keyboard",e))}function u(e){n="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(t=!0,i("pointer",e))}function a(e){e.target!==window&&e.target!==document&&(t||(n="keyboard",i("keyboard",e)),t=!1)}function c(){t=!1}function p(){return"pointer"!==n}function f(n){!function(){if("undefined"==typeof window||e)return;const{focus:n}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...e){t=!0,n.apply(this,e)},document.addEventListener("keydown",r,!0),document.addEventListener("keyup",r,!0),window.addEventListener("focus",a,!0),window.addEventListener("blur",c,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",u,!0),document.addEventListener("pointermove",u,!0),document.addEventListener("pointerup",u,!0)):(document.addEventListener("mousedown",u,!0),document.addEventListener("mousemove",u,!0),document.addEventListener("mouseup",u,!0)),e=!0}(),n(p());const d=()=>n(p());return o.add(d),()=>{o.delete(d)}}export{f as trackFocusVisible};
//# sourceMappingURL=index.js.map
