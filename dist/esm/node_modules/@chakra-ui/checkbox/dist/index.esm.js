import e,{r as t}from"../../../../_virtual/index2.js";import{createContext as n}from"../../react-context/dist/index.esm.js";import{useCallbackRef as a}from"../../react-use-callback-ref/dist/index.esm.js";import{forwardRef as o,useMultiStyleConfig as s,chakra as i}from"../../system/dist/index.esm.js";import{useFormControlProps as r}from"../../form-control/dist/index.esm.js";import{useSafeLayoutEffect as l}from"../../react-use-safe-layout-effect/dist/index.esm.js";import{useUpdateEffect as c}from"../../react-use-update-effect/dist/index.esm.js";import{mergeRefs as d}from"../../react-use-merge-refs/dist/index.esm.js";import{visuallyHiddenStyle as u}from"../../visually-hidden/dist/index.esm.js";import{trackFocusVisible as m}from"../../../@zag-js/focus-visible/dist/index.js";import{keyframes as f}from"../../../@emotion/react/dist/emotion-react.esm.js";import{omitThemingProps as p}from"../../styled-system/dist/index.esm.js";var[h,b]=n({name:"CheckboxGroupContext",strict:!1}),k=(...e)=>e.filter(Boolean).join(" "),v=e=>e?"":void 0;function y(...e){return function(t){e.some((e=>(null==e||e(t),null==t?void 0:t.defaultPrevented)))}}function C(t){return e.createElement(i.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t},e.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1"}))}function x(t){return e.createElement(i.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t},e.createElement("line",{x1:"21",x2:"3",y1:"12",y2:"12"}))}function g(t){const{isIndeterminate:n,isChecked:a,...o}=t,s=n?x:C;return a||n?e.createElement(i.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},e.createElement(s,{...o})):null}function D(e={}){const n=r(e),{isDisabled:o,isReadOnly:s,isRequired:i,isInvalid:f,id:p,onBlur:h,onFocus:b,"aria-describedby":k}=n,{defaultChecked:C,isChecked:x,isFocusable:g,onChange:D,isIndeterminate:E,name:I,value:_,tabIndex:S,"aria-label":P,"aria-labelledby":M,"aria-invalid":w,...B}=e,R=function(e,t=[]){const n=Object.assign({},e);for(const e of t)e in n&&delete n[e];return n}(B,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),F=a(D),N=a(h),L=a(b),[q,A]=t.useState(!1),[O,K]=t.useState(!1),[U,z]=t.useState(!1),[$,T]=t.useState(!1);t.useEffect((()=>m(A)),[]);const W=t.useRef(null),[X,G]=t.useState(!0),[H,J]=t.useState(!!C),Q=void 0!==x,V=Q?x:H,Y=t.useCallback((e=>{s||o?e.preventDefault():(Q||J(V?e.target.checked:!!E||e.target.checked),null==F||F(e))}),[s,o,V,Q,E,F]);l((()=>{W.current&&(W.current.indeterminate=Boolean(E))}),[E]),c((()=>{o&&K(!1)}),[o,K]),l((()=>{const e=W.current;(null==e?void 0:e.form)&&(e.form.onreset=()=>{J(!!C)})}),[]);const Z=o&&!g,ee=t.useCallback((e=>{" "===e.key&&T(!0)}),[T]),te=t.useCallback((e=>{" "===e.key&&T(!1)}),[T]);l((()=>{if(!W.current)return;W.current.checked!==V&&J(W.current.checked)}),[W.current]);const ne=t.useCallback(((e={},t=null)=>({...e,ref:t,"data-active":v($),"data-hover":v(U),"data-checked":v(V),"data-focus":v(O),"data-focus-visible":v(O&&q),"data-indeterminate":v(E),"data-disabled":v(o),"data-invalid":v(f),"data-readonly":v(s),"aria-hidden":!0,onMouseDown:y(e.onMouseDown,(e=>{O&&e.preventDefault(),T(!0)})),onMouseUp:y(e.onMouseUp,(()=>T(!1))),onMouseEnter:y(e.onMouseEnter,(()=>z(!0))),onMouseLeave:y(e.onMouseLeave,(()=>z(!1)))})),[$,V,o,O,q,U,E,f,s]),ae=t.useCallback(((e={},t=null)=>({...R,...e,ref:d(t,(e=>{e&&G("LABEL"===e.tagName)})),onClick:y(e.onClick,(()=>{var e;X||(null==(e=W.current)||e.click(),requestAnimationFrame((()=>{var e;null==(e=W.current)||e.focus()})))})),"data-disabled":v(o),"data-checked":v(V),"data-invalid":v(f)})),[R,o,V,f,X]),oe=t.useCallback(((e={},t=null)=>({...e,ref:d(W,t),type:"checkbox",name:I,value:_,id:p,tabIndex:S,onChange:y(e.onChange,Y),onBlur:y(e.onBlur,N,(()=>K(!1))),onFocus:y(e.onFocus,L,(()=>K(!0))),onKeyDown:y(e.onKeyDown,ee),onKeyUp:y(e.onKeyUp,te),required:i,checked:V,disabled:Z,readOnly:s,"aria-label":P,"aria-labelledby":M,"aria-invalid":w?Boolean(w):f,"aria-describedby":k,"aria-disabled":o,style:u})),[I,_,p,Y,N,L,ee,te,i,V,Z,s,P,M,w,f,k,o,S]),se=t.useCallback(((e={},t=null)=>({...e,ref:t,onMouseDown:y(e.onMouseDown,j),onTouchStart:y(e.onTouchStart,j),"data-disabled":v(o),"data-checked":v(V),"data-invalid":v(f)})),[V,o,f]);return{state:{isInvalid:f,isFocused:O,isChecked:V,isActive:$,isHovered:U,isIndeterminate:E,isDisabled:o,isReadOnly:s,isRequired:i},getRootProps:ae,getCheckboxProps:ne,getInputProps:oe,getLabelProps:se,htmlProps:R}}function j(e){e.preventDefault(),e.stopPropagation()}var E={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},I={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},_=f({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),S=f({from:{opacity:0},to:{opacity:1}}),P=f({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),M=o((function(n,a){const o=b(),r={...o,...n},l=s("Checkbox",r),c=p(n),{spacing:d="0.5rem",className:u,children:m,iconColor:f,iconSize:h,icon:v=e.createElement(g,null),isChecked:y,isDisabled:C=(null==o?void 0:o.isDisabled),onChange:x,inputProps:j,...M}=c;let w=y;(null==o?void 0:o.value)&&c.value&&(w=o.value.includes(c.value));let B=x;(null==o?void 0:o.onChange)&&c.value&&(B=function(...e){return function(t){e.forEach((e=>{null==e||e(t)}))}}(o.onChange,x));const{state:R,getInputProps:F,getCheckboxProps:N,getLabelProps:L,getRootProps:q}=D({...M,isDisabled:C,isChecked:w,onChange:B}),A=t.useMemo((()=>({animation:R.isIndeterminate?`${S} 20ms linear, ${P} 200ms linear`:`${_} 200ms linear`,fontSize:h,color:f,...l.icon})),[f,h,,R.isIndeterminate,l.icon]),O=t.cloneElement(v,{__css:A,isIndeterminate:R.isIndeterminate,isChecked:R.isChecked});return e.createElement(i.label,{__css:{...I,...l.container},className:k("chakra-checkbox",u),...q()},e.createElement("input",{className:"chakra-checkbox__input",...F(j,a)}),e.createElement(i.span,{__css:{...E,...l.control},className:"chakra-checkbox__control",...N()},O),m&&e.createElement(i.span,{className:"chakra-checkbox__label",...L(),__css:{marginStart:d,...l.label}},m))}));M.displayName="Checkbox";export{M as Checkbox,g as CheckboxIcon,D as useCheckbox};
//# sourceMappingURL=index.esm.js.map
