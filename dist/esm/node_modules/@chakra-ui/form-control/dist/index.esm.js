import e,{r}from"../../../../_virtual/index2.js";import{createContext as a}from"../../react-context/dist/index.esm.js";import{mergeRefs as l}from"../../react-use-merge-refs/dist/index.esm.js";import{forwardRef as s,useMultiStyleConfig as i,chakra as o,useStyleConfig as n}from"../../system/dist/index.esm.js";import{Icon as t}from"../../icon/dist/index.esm.js";import{omitThemingProps as d}from"../../styled-system/dist/index.esm.js";var u=(...e)=>e.filter(Boolean).join(" "),c=e=>e?"":void 0,m=e=>!!e||void 0;function v(...e){return function(r){e.some((e=>(null==e||e(r),null==r?void 0:r.defaultPrevented)))}}var[p,f]=a({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[b,h]=a({strict:!1,name:"FormControlContext"});var y=s((function(a,s){const n=i("Form",a),t=d(a),{getRootProps:m,htmlProps:v,...f}=function(e){const{id:a,isRequired:s,isInvalid:i,isDisabled:o,isReadOnly:n,...t}=e,d=r.useId(),u=a||`field-${d}`,m=`${u}-label`,v=`${u}-feedback`,p=`${u}-helptext`,[f,b]=r.useState(!1),[h,y]=r.useState(!1),[x,F]=r.useState(!1),I=r.useCallback(((e={},r=null)=>({id:p,...e,ref:l(r,(e=>{e&&y(!0)}))})),[p]),_=r.useCallback(((e={},r=null)=>({...e,ref:r,"data-focus":c(x),"data-disabled":c(o),"data-invalid":c(i),"data-readonly":c(n),id:e.id??m,htmlFor:e.htmlFor??u})),[u,o,x,i,n,m]),g=r.useCallback(((e={},r=null)=>({id:v,...e,ref:l(r,(e=>{e&&b(!0)})),"aria-live":"polite"})),[v]),E=r.useCallback(((e={},r=null)=>({...e,...t,ref:r,role:"group"})),[t]),N=r.useCallback(((e={},r=null)=>({...e,ref:r,role:"presentation","aria-hidden":!0,children:e.children||"*"})),[]);return{isRequired:!!s,isInvalid:!!i,isReadOnly:!!n,isDisabled:!!o,isFocused:!!x,onFocus:()=>F(!0),onBlur:()=>F(!1),hasFeedbackText:f,setHasFeedbackText:b,hasHelpText:h,setHasHelpText:y,id:u,labelId:m,feedbackId:v,helpTextId:p,htmlProps:t,getHelpTextProps:I,getErrorMessageProps:g,getRootProps:E,getLabelProps:_,getRequiredIndicatorProps:N}}(t),h=u("chakra-form-control",a.className);return e.createElement(b,{value:f},e.createElement(p,{value:n},e.createElement(o.div,{...m({},s),className:h,__css:n.container})))}));y.displayName="FormControl";var x=s((function(r,a){const l=h(),s=f(),i=u("chakra-form__helper-text",r.className);return e.createElement(o.div,{...null==l?void 0:l.getHelpTextProps(r,a),__css:s.helperText,className:i})}));function F(e){const{isDisabled:r,isInvalid:a,isReadOnly:l,isRequired:s,...i}=I(e);return{...i,disabled:r,readOnly:l,required:s,"aria-invalid":m(a),"aria-required":m(s),"aria-readonly":m(l)}}function I(e){const r=h(),{id:a,disabled:l,readOnly:s,required:i,isRequired:o,isInvalid:n,isReadOnly:t,isDisabled:d,onFocus:u,onBlur:c,...m}=e,p=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==r?void 0:r.hasFeedbackText)&&(null==r?void 0:r.isInvalid)&&p.push(r.feedbackId),(null==r?void 0:r.hasHelpText)&&p.push(r.helpTextId),{...m,"aria-describedby":p.join(" ")||void 0,id:a??(null==r?void 0:r.id),isDisabled:l??d??(null==r?void 0:r.isDisabled),isReadOnly:s??t??(null==r?void 0:r.isReadOnly),isRequired:i??o??(null==r?void 0:r.isRequired),isInvalid:n??(null==r?void 0:r.isInvalid),onFocus:v(null==r?void 0:r.onFocus,u),onBlur:v(null==r?void 0:r.onBlur,c)}}x.displayName="FormHelperText";var[_,g]=a({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "}),E=s(((r,a)=>{const l=i("FormError",r),s=d(r),n=h();return(null==n?void 0:n.isInvalid)?e.createElement(_,{value:l},e.createElement(o.div,{...null==n?void 0:n.getErrorMessageProps(s,a),className:u("chakra-form__error-message",r.className),__css:{display:"flex",alignItems:"center",...l.text}})):null}));E.displayName="FormErrorMessage";var N=s(((r,a)=>{const l=g(),s=h();if(!(null==s?void 0:s.isInvalid))return null;const i=u("chakra-form__error-icon",r.className);return e.createElement(t,{ref:a,"aria-hidden":!0,...r,__css:l.icon,className:i},e.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));N.displayName="FormErrorIcon";var R=s((function(r,a){const l=n("FormLabel",r),s=d(r),{className:i,children:t,requiredIndicator:c=e.createElement(k,null),optionalIndicator:m=null,...v}=s,p=h(),f=(null==p?void 0:p.getLabelProps(v,a))??{ref:a,...v};return e.createElement(o.label,{...f,className:u("chakra-form__label",s.className),__css:{display:"block",textAlign:"start",...l}},t,(null==p?void 0:p.isRequired)?c:m)}));R.displayName="FormLabel";var k=s((function(r,a){const l=h(),s=f();if(!(null==l?void 0:l.isRequired))return null;const i=u("chakra-form__required-indicator",r.className);return e.createElement(o.span,{...null==l?void 0:l.getRequiredIndicatorProps(r,a),__css:s.requiredIndicator,className:i})}));k.displayName="RequiredIndicator";export{y as FormControl,N as FormErrorIcon,E as FormErrorMessage,x as FormHelperText,R as FormLabel,k as RequiredIndicator,F as useFormControl,h as useFormControlContext,I as useFormControlProps,f as useFormControlStyles,g as useFormErrorStyles};
//# sourceMappingURL=index.esm.js.map
